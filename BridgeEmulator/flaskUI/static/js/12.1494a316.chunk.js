(this.webpackJsonpdiyhue=this.webpackJsonpdiyhue||[]).push([[12],{102:function(e,t,c){"use strict";c.r(t);var n=c(14),s=c(2),o=c(16),r=c.n(o),a=c(92),i=c(94),l=c(90),u=(c(91),c(6)),j=function(e){var t=e.api_key,c=e.id,n=e.device,s=e.setType,o=e.setMessage,j=function(){r.a.delete("/api/".concat(t,"/sensors/").concat(c)).then((function(e){console.log(e.data),o("Device successfully deleted"),s("none"),s("success")})).catch((function(e){console.error(e),o("Error occured, check browser console"),s("none"),s("error")}))};return Object(u.jsxs)(u.Fragment,{children:[n.name," ",Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"switchContainer",children:Object(u.jsxs)("label",{className:"switch",children:[Object(u.jsx)("input",{type:"checkbox",defaultChecked:n.config.on,onChange:function(e){return n=e.currentTarget.checked,void r.a.put("/api/".concat(t,"/sensors/").concat(c,"/config"),{on:n}).then((function(e){console.log(e.data),o("Device successfully "+(n?"enabled":"disabled")),s("none"),s("success")})).catch((function(e){console.error(e),o("Error occured, check browser console"),s("none"),s("error")}));var n}}),Object(u.jsx)("span",{className:"slider"})]})}),"Protocol: ",n.protocol,Object(u.jsx)("br",{}),"battery"in n.config&&function(){var e=n.config.battery;return console.log(e),e>90?Object(u.jsx)(i.a,{title:e+"%"}):e>70?Object(u.jsx)(i.b,{title:e+"%"}):e>40?Object(u.jsx)(i.d,{title:e+"%"}):Object(u.jsx)(i.c,{title:e+"%"})}(),Object(u.jsx)(a.a,{title:"Delete",onClick:function(){Object(l.confirmAlert)({title:"Delete device "+n.name,message:"Are you sure to do this?",buttons:[{label:"Yes",onClick:function(){return j()}},{label:"No"}]})}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})},b=c(83);t.default=function(e){var t=e.API_KEY,c=Object(s.useState)({}),o=Object(n.a)(c,2),a=o[0],i=o[1],l=Object(s.useState)("none"),d=Object(n.a)(l,2),f=d[0],O=d[1],h=Object(s.useState)("no message"),v=Object(n.a)(h,2),x=v[0],p=v[1],g=function(){void 0!==t&&r.a.get("/sensors").then((function(e){console.log(e.data),i(e.data)})).catch((function(e){console.error(e)}))};return Object(s.useEffect)((function(){g();var e=setInterval((function(){g()}),2e3);return function(){return clearInterval(e)}}),[t]),Object(u.jsxs)("div",{className:"content",children:["none"!==f&&Object(u.jsx)(b.a,{type:f,message:x,duration:"5000",setType:O}),Object(u.jsx)("div",{className:"cardGrid",children:Object.entries(a).map((function(e){var c=Object(n.a)(e,2),s=c[0],o=c[1];return Object(u.jsx)(j,{api_key:t,id:s,device:o,setType:O,setMessage:p},s)}))})]})}},83:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));c(2);var n=c(10),s=c(84),o=c.n(s),r=c(6);function a(e){e.type;var t=e.message,c=e.duration,s=e.setType;return Object(r.jsx)(o.a,{duration:c,persistOnHover:!0,children:Object(r.jsx)("div",{className:"notificationContainer",children:Object(r.jsxs)("div",{className:"notification success",children:[Object(r.jsx)("p",{children:t}),Object(r.jsx)("div",{className:"icon",children:Object(r.jsx)(n.o,{onClick:function(){return s("none")}})})]})})})}}}]);
//# sourceMappingURL=12.1494a316.chunk.js.map