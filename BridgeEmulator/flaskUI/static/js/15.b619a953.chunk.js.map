{"version":3,"sources":["color.js","static/images/nightsky.jpg","static/images/sunset.jpg","static/images/galaxy.jpg","containers/Scenes.js","containers/GroupLight.js","containers/ColorPicker.js","containers/ColorTempPicker.js","containers/Group.js","views/Groups.js"],"names":["cieToRgb","x","y","brightness","undefined","z","Y","toFixed","X","Z","red","green","blue","Math","pow","round","isNaN","floor","colorTemperatureToRgb","mireds","hectemp","log","rgbToCie","parseFloat","Scenes","HOST_IP","api_key","groupId","scenes","sceneModal","setSceneModal","closeModal","isOpen","onAfterOpen","onRequestClose","contentLabel","className","onClick","Object","entries","filter","scene","group","map","id","style","background","nightsky","backgroundSize","axios","put","applyScene","lightstates","lightstate","light","state","applyLightState","name","Light","switchLight","newState","console","JSON","stringify","getStyle","title","type","defaultChecked","onChange","e","on","currentTarget","checked","min","max","defaultValue","bri","parseInt","value","KelvinPicker","lights","groupLights","pickerRef","useRef","picker","useState","animation","setAnimation","useEffect","colors","push","rgb","xy","current","iro","ColorPicker","layout","component","ui","Wheel","options","ref","kelvin","mirek","Slider","sliderType","color","Group","showContainer","setShowContainer","lightBg","step","length","index","slice","counter","onlineLights","handleToggleChange","target","action","handleBriChange","Groups","API_KEY","config","groups","setConfig","fetchConfig","get","then","fetchedData","data","catch","error","interval","setInterval","clearInterval"],"mappings":"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","file":"static/js/15.b619a953.chunk.js","sourcesContent":["export function cieToRgb(x, y, brightness) {\n  //Set to maximum brightness if no custom value was given (Not the slick ECMAScript 6 way for compatibility reasons)\n  if (brightness === undefined) {\n    brightness = 254;\n  }\n\n  var z = 1.0 - x - y;\n  var Y = (brightness / 254).toFixed(2);\n  var X = Y / y * x;\n  var Z = Y / y * z;\n\n  //Convert to RGB using Wide RGB D65 conversion\n  var red = X * 1.656492 - Y * 0.354851 - Z * 0.255038;\n  var green = -X * 0.707196 + Y * 1.655397 + Z * 0.036152;\n  var blue = X * 0.051713 - Y * 0.121364 + Z * 1.01153;\n\n  //If red, green or blue is larger than 1.0 set it back to the maximum of 1.0\n  if (red > blue && red > green && red > 1.0) {\n    green = green / red;\n    blue = blue / red;\n    red = 1.0;\n  } else if (green > blue && green > red && green > 1.0) {\n    red = red / green;\n    blue = blue / green;\n    green = 1.0;\n  } else if (blue > red && blue > green && blue > 1.0) {\n    red = red / blue;\n    green = green / blue;\n    blue = 1.0;\n  }\n\n  //Reverse gamma correction\n  red =\n    red <= 0.0031308\n      ? 12.92 * red\n      : (1.0 + 0.055) * Math.pow(red, 1.0 / 2.4) - 0.055;\n  green =\n    green <= 0.0031308\n      ? 12.92 * green\n      : (1.0 + 0.055) * Math.pow(green, 1.0 / 2.4) - 0.055;\n  blue =\n    blue <= 0.0031308\n      ? 12.92 * blue\n      : (1.0 + 0.055) * Math.pow(blue, 1.0 / 2.4) - 0.055;\n\n  //Convert normalized decimal to decimal\n  red = Math.round(red * 255);\n  green = Math.round(green * 255);\n  blue = Math.round(blue * 255);\n\n  if (isNaN(red)) red = 0;\n\n  if (isNaN(green)) green = 0;\n\n  if (isNaN(blue)) blue = 0;\n\n  return \"rgba(\" + Math.floor(red) + \",\" +  Math.floor(green) + \",\" + Math.floor(blue) + \",1)\";\n}\n\nexport function colorTemperatureToRgb(mireds) {\n  var hectemp = 20000.0 / mireds;\n\n  var red, green, blue;\n\n  if (hectemp <= 66) {\n    red = 255;\n    green = 99.4708025861 * Math.log(hectemp) - 161.1195681661;\n    blue =\n      hectemp <= 19\n        ? 0\n        : 138.5177312231 * Math.log(hectemp - 10) - 305.0447927307;\n  } else {\n    red = 329.698727446 * Math.pow(hectemp - 60, -0.1332047592);\n    green = 288.1221695283 * Math.pow(hectemp - 60, -0.0755148492);\n    blue = 255;\n  }\n\n  red = red > 255 ? 255 : red;\n  green = green > 255 ? 255 : green;\n  blue = blue > 255 ? 255 : blue;\n\n  return \"rgba(\" + Math.floor(red) + \",\" +  Math.floor(green) + \",\" + Math.floor(blue) + \",1)\";\n}\n\nexport function rgbToCie(red, green, blue) {\n  //Apply a gamma correction to the RGB values, which makes the color more vivid and more the like the color displayed on the screen of your device\n  red =\n    red > 0.04045 ? Math.pow((red + 0.055) / (1.0 + 0.055), 2.4) : red / 12.92;\n  green =\n    green > 0.04045\n      ? Math.pow((green + 0.055) / (1.0 + 0.055), 2.4)\n      : green / 12.92;\n  blue =\n    blue > 0.04045\n      ? Math.pow((blue + 0.055) / (1.0 + 0.055), 2.4)\n      : blue / 12.92;\n\n  //RGB values to XYZ using the Wide RGB D65 conversion formula\n  var X = red * 0.664511 + green * 0.154324 + blue * 0.162028;\n  var Y = red * 0.283881 + green * 0.668433 + blue * 0.047685;\n  var Z = red * 0.000088 + green * 0.07231 + blue * 0.986039;\n\n  //Calculate the xy values from the XYZ values\n  var x = (X / (X + Y + Z)).toFixed(4);\n  var y = (Y / (X + Y + Z)).toFixed(4);\n\n  if (isNaN(x)) x = 0;\n\n  if (isNaN(y)) y = 0;\n\n  return [parseFloat(x), parseFloat(y)];\n}\n","export default __webpack_public_path__ + \"static/media/nightsky.a7e58287.jpg\";","export default __webpack_public_path__ + \"static/media/sunset.f62d6721.jpg\";","export default __webpack_public_path__ + \"static/media/galaxy.6305f309.jpg\";","import Modal from 'react-modal';\nimport axios from \"axios\";\nimport { FaTimes } from \"react-icons/fa\";\nimport { cieToRgb, colorTemperatureToRgb } from \"../color\";\n\nimport nightsky from \"../static/images/nightsky.jpg\";\nimport sunset from \"../static/images/sunset.jpg\";\nimport galaxy from \"../static/images/galaxy.jpg\";\n\n\nconst Scenes = ({ HOST_IP, api_key, groupId, scenes, sceneModal, setSceneModal }) => {\n  const applyScene = (scene) => {\n    axios.put(`${HOST_IP}/api/${api_key}/groups/0/action`, { scene: scene });\n  };\n\n  const applyLightState = (light, state) => {\n    axios.put(`${HOST_IP}/api/${api_key}/lights/${light}/state`, state);\n  };\n\n  function openModal() {\n    setSceneModal(true);\n  }\n\n  function afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    // subtitle.style.color = '#f00';\n  }\n\n  function closeModal() {\n    setSceneModal(false);\n  }\n\n  const getStyle = (lightstate) => {\n    let color;\n    if (\"xy\" in lightstate) {\n      color = cieToRgb(lightstate[\"xy\"][0], lightstate[\"xy\"][1], 254);\n    } else if (\"ct\" in lightstate) {\n      color = colorTemperatureToRgb(lightstate[\"ct\"]);\n    } else {\n      color = \"rgba(200,200,200,1)\";\n    }\n    return color;\n  }\n\n  return (\n    <Modal\n      isOpen={sceneModal}\n      onAfterOpen={afterOpenModal}\n      onRequestClose={closeModal}\n      contentLabel=\"Example Modal\"\n    >\n      <div className=\"header\">\n        <div className=\"headline\">Scene Picker</div>\n        <div className=\"iconbox\"><button onClick={closeModal}><FaTimes /></button></div>\n      </div>\n      <div className=\"scenecontainer\"\n      >\n        {Object.entries(scenes)\n          .filter((scene) => scene[1].group === groupId)\n          .map(([id, scene]) => (\n            <div className=\"scene\" style={{ background: `url(${nightsky})`, backgroundSize: 'cover', }} onClick={() => applyScene(id)}>\n              <div className=\"dimmer\">\n              {Object.entries(scene.lightstates)\n                .map(([light, state]) => (\n                  <div className=\"color\"\n                    style={{ background: `${getStyle(state)}` }}\n                    onClick={() => applyLightState(light, state)}\n                  >\n                  </div>\n                ))}\n              <div className=\"name\">{scene.name}</div>\n              </div>\n              <div className=\"dynamiccontrol\"><i className=\"far fa-play-circle\"></i></div>\n            </div>\n          ))}\n      </div>\n    </Modal>\n  );\n};\n\nexport default Scenes;\n","import { RiAlertLine } from \"react-icons/ri\";\nimport axios from \"axios\";\nimport { cieToRgb, colorTemperatureToRgb } from \"../color\";\nimport { FaLightbulb } from \"react-icons/fa\";\n\nconst Light = ({ HOST_IP, api_key, id, light }) => {\n  const switchLight = (newState) => {\n    console.log(\"Apply state \" + JSON.stringify(newState));\n    axios.put(`${HOST_IP}/api/${api_key}/lights/${id}/state`, newState);\n  };\n\n  const getStyle = () => {\n    if (light[\"state\"][\"on\"]) {\n      let lightBg;\n      if (light[\"state\"][\"colormode\"] === \"xy\") {\n        lightBg = cieToRgb(\n          light[\"state\"][\"xy\"][0],\n          light[\"state\"][\"xy\"][1],\n          254\n        );\n      } else if (light[\"state\"][\"colormode\"] === \"ct\") {\n        lightBg = colorTemperatureToRgb(light[\"state\"][\"ct\"]);\n      } else {\n        lightBg = \"linear-gradient(90deg, rgba(255,212,93,1))\";\n      }\n      return { background: lightBg };\n    }\n  };\n\n  return (\n    <div className=\"groupCard light\">\n      <div className=\"row top\">\n        <div className=\"gradient\" style={getStyle()}><FaLightbulb /></div>\n        <div className=\"text\"><p className=\"name\">{light.name}{\" \"}\n          {light[\"state\"][\"reachable\"] || <RiAlertLine title=\"Unrechable\" />}</p></div>\n        <div className=\"switchContainer\"><label className=\"switch\">\n          <input\n            type=\"checkbox\"\n            defaultChecked={light[\"state\"][\"on\"]}\n            onChange={(e) => switchLight({ on: e.currentTarget.checked })}\n          />\n          <span className=\"slider\">\n          </span></label></div>\n      </div>\n      <div className=\"row\"><div className=\"sliderContainer\">\n        <input\n          type=\"range\"\n          min=\"1\"\n          max=\"254\"\n          defaultValue=\"50\"\n          className=\"slider\"\n          onChange={(e) =>\n            switchLight({ bri: parseInt(e.currentTarget.value) })\n          }\n        />\n      </div></div>\n    </div>\n\n  );\n};\n\n\n\n\n\nexport default Light;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { cieToRgb, rgbToCie } from \"../color\";\nimport iro from \"@jaames/iro\";\nimport axios from \"axios\";\n\nexport default function KelvinPicker({\n  HOST_IP,\n  api_key,\n  lights,\n  groupLights,\n}) {\n  const pickerRef = useRef(null);\n  const picker = useRef(null);\n\n  const [animation, setAnimation] = useState(true);\n\n  useEffect(() => {\n    // Component loads the first time...\n    // animation is true => hide class will be returned, so it is opacity 0 (css file at the end)\n    // It will be set to false so class *line 54* will be switched\n    setAnimation(false);\n\n    //This return function will be fired when the component gets unmounted, so to be sure the color wheel gets faded out\n    return () => {\n      setAnimation(false);\n    };\n  }, []);\n\n  let colors = [];\n  for (const [index, light] of groupLights.entries()) {\n    console.log(light);\n    if (\"xy\" in lights[light][\"state\"]) {\n      colors.push(\n        cieToRgb(\n          lights[light][\"state\"][\"xy\"][0],\n          lights[light][\"state\"][\"xy\"][1],\n          254\n        )\n      );\n    }\n  }\n  const onChange = (newState) => {\n    let rgb = newState.rgb;\n\n    console.log(newState.rgb);\n    console.log(\"Apply state \" + JSON.stringify(newState));\n    axios.put(\n      `${HOST_IP}/api/${api_key}/lights/${\n        groupLights[newState[\"index\"]]\n      }/state`,\n      { xy: rgbToCie(rgb[\"r\"], rgb[\"g\"], rgb[\"b\"]) }\n    );\n  };\n\n  useEffect(() => {\n    if (pickerRef.current && !picker.current) {\n      picker.current = new iro.ColorPicker(pickerRef.current, {\n        layout: [\n          {\n            component: iro.ui.Wheel,\n            options: {},\n          },\n        ],\n        colors: colors,\n      });\n      //console.log(picker.current.state.color.rgb)\n      picker.current.on(\"input:end\", onChange);\n    }\n  }, [onChange]);\n  return <div ref={pickerRef} className={animation ? \"hide\" : \"show\"}></div>;\n}\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { colorTemperatureToRgb, rgbToCie } from \"../color\";\nimport iro from \"@jaames/iro\";\nimport axios from \"axios\";\n\nexport default function KelvinPicker({\n  HOST_IP,\n  api_key,\n  group,\n  groupId\n}) {\n  const pickerRef = useRef(null);\n  const picker = useRef(null);\n\n  const [animation, setAnimation] = useState(true);\n\n  useEffect(() => {\n    // Component loads the first time...\n    // animation is true => hide class will be returned, so it is opacity 0 (css file at the end)\n    // It will be set to false so class *line 54* will be switched\n    setAnimation(false);\n\n    //This return function will be fired when the component gets unmounted, so to be sure the color wheel gets faded out\n    return () => {\n      setAnimation(false);\n    };\n  }, []);\n\n  const onChange = (newState) => {\n    let kelvin = newState.kelvin;\n    let mirek = Math.floor( (11000 - kelvin) / 25.5 + 153);\n    console.log(\"#########\");\n    console.log(mirek);\n    console.log(colorTemperatureToRgb(group[\"action\"][\"ct\"]));\n    console.log(\"Apply state \" + JSON.stringify(newState));\n    axios.put(\n      `${HOST_IP}/api/${api_key}/groups/${groupId}/action`,\n      { 'ct': mirek }\n    );\n  };\n\n  useEffect(() => {\n    if (pickerRef.current && !picker.current) {\n      picker.current = new iro.ColorPicker(pickerRef.current, {\n        layout: [\n          {\n            component: iro.ui.Slider,\n            options: {\n              sliderType: 'kelvin'\n            }\n          },\n        ],\n        color: colorTemperatureToRgb(group[\"action\"][\"ct\"])\n      });\n      picker.current.on(\"input:end\", onChange);\n    }\n  }, [onChange]);\n  return <div ref={pickerRef} className={animation ? \"hide\" : \"show\"}></div>;\n}\n","import {\n  FaCouch,\n  FaChevronDown,\n  FaChevronUp,\n  FaImages,\n  FaLightbulb,\n  FaPalette\n\n} from \"react-icons/fa\";\nimport { BsFillHouseDoorFill } from \"react-icons/bs\";\nimport { MdInvertColors } from \"react-icons/md\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport Scenes from \"./Scenes\";\nimport Light from \"./GroupLight\";\nimport ColorPicker from \"./ColorPicker\";\nimport ColorTempPicker from \"./ColorTempPicker\";\nimport debounce from 'lodash.debounce';\nimport { cieToRgb, colorTemperatureToRgb } from \"../color\";\n\n\nconst Group = ({ HOST_IP, api_key, id, group, lights, scenes }) => {\n  const [showContainer, setShowContainer] = useState(\"closed\");\n  const [sceneModal, setSceneModal] = useState(false);\n\n  const handleToggleChange = (state) => {\n    const newState = { on: state };\n    group.state[\"any_on\"] = state;\n    console.log(\"Apply state \" + JSON.stringify(newState));\n    axios.put(`${HOST_IP}/api/${api_key}/groups/${id}/action`, newState);\n  };\n\n  const handleBriChange = (state) => {\n    const newState = { bri: state };\n    group.action[\"bri\"] = state;\n    console.log(\"Apply state \" + JSON.stringify(newState));\n    axios.put(`${HOST_IP}/api/${api_key}/groups/${id}/action`, newState);\n  };\n\n  const onlineLights = () => {\n    let counter = 0;\n    for (const [index, light] of group.lights.entries()) {\n      if (lights[light][\"state\"][\"reachable\"] === true)\n        counter = counter + 1;\n    }\n    return counter;\n  }\n\n  const getStyle = () => {\n    if (group.state[\"any_on\"]) {\n      let lightBg = \"linear-gradient(45deg, \";\n      let step = 100 / group[\"lights\"].length;\n      for (const [index, light] of group.lights.entries()) {\n        if (lights[light][\"state\"][\"colormode\"] === \"xy\") {\n          if (group[\"lights\"].length === 1) {\n            lightBg = lightBg + \"rgba(200,200,200,1) 0%,\";\n          }\n          lightBg =\n            lightBg +\n            cieToRgb(\n              lights[light][\"state\"][\"xy\"][0],\n              lights[light][\"state\"][\"xy\"][1],\n              254\n            ) +\n            \" \" +\n            Math.floor(step * (index + 1)) +\n            \"%,\";\n        } else if (lights[light][\"state\"][\"colormode\"] === \"ct\") {\n          if (group[\"lights\"].length === 1) {\n            lightBg = lightBg + \"rgba(200,200,200,1) 0%,\";\n          }\n          lightBg =\n            lightBg +\n            colorTemperatureToRgb(lights[light][\"state\"][\"ct\"]) +\n            \" \" +\n            Math.floor(step * (index + 1)) +\n            \"%,\";\n        } else {\n          if (group[\"lights\"].length === 1) {\n            lightBg = lightBg + \"rgba(200,200,200,1) 0%,\";\n          }\n          lightBg =\n            lightBg +\n            \"rgba(255,212,93,1) \" +\n            Math.floor(step * (index + 1)) +\n            \"%,\";\n        }\n      }\n      return { background: lightBg.slice(0, -1) + \")\" };\n    }\n  };\n\n  return (\n    <div className=\"groupCard\">\n      <Scenes\n        HOST_IP={HOST_IP}\n        api_key={api_key}\n        groupId={id}\n        scenes={scenes}\n        sceneModal={sceneModal}\n        setSceneModal={setSceneModal}\n      />\n      <div className=\"row top\">\n        <div className=\"gradient\" style={getStyle()} >{group[\"type\"] === \"Zone\" ? <FaCouch style={{ color: \"#8400FF\" }}/> : <BsFillHouseDoorFill style={{ color: \"#8400FF\" }}/>}</div>\n        <div className=\"text\">\n          <p className=\"name\">{group.name}</p>\n          <p className=\"subtext\">{onlineLights()} lamps online</p></div>\n        <div className=\"switchContainer\">\n          <label className=\"switch\">\n            <input\n              type=\"checkbox\"\n              value={group.state[\"any_on\"]}\n              checked={group.state[\"any_on\"]}\n              onChange={(e) => handleToggleChange(e.target.checked)}\n            />\n            <span className=\"slider\"></span>\n          </label>\n        </div>\n      </div>\n      <div className=\"row background\">\n        <div className=\"sliderContainer\">\n          <input\n            type=\"range\"\n            min=\"1\"\n            max=\"254\"\n            value={group.action[\"bri\"]}\n            step=\"1\"\n            className=\"slider\"\n            onChange={(e) => handleBriChange(parseInt(e.target.value))}\n          />\n        </div>\n      </div>\n      <div className=\"row colorpicker\">\n        {showContainer === \"colorPicker\" && (\n          <ColorPicker\n            HOST_IP={HOST_IP}\n            api_key={api_key}\n            lights={lights}\n            groupLights={group.lights}\n          />\n        )}\n        {showContainer === \"colorTempPicker\" && (\n          <ColorTempPicker\n            HOST_IP={HOST_IP}\n            api_key={api_key}\n            groupId={id}\n            group={group}\n          />\n        )}\n        {showContainer === \"lights\" && (\n          <div className=\"lights\">\n            {group.lights.map((light) => (\n              <Light\n                HOST_IP={HOST_IP}\n                api_key={api_key}\n                key={light}\n                id={light}\n                light={lights[light]}\n              />\n            ))}\n\n          </div>\n        )}\n      </div>\n\n      {showContainer === \"closed\" && (\n        <div className=\"row bottom\">\n          <div className=\"expandbtn\"><FaChevronDown\n            onClick={() => setShowContainer(\"colorPicker\")}\n          /></div>\n        </div>) ||\n        (<div className=\"row bottom\">\n          <div className=\"expandbtn\"><FaPalette \n          onClick={() => setShowContainer(\"colorPicker\")}/>\n          </div>\n          <div className=\"expandbtn\"><FaImages\n            onClick={() => setSceneModal(true)}\n          /></div>\n          <div className=\"expandbtn\"><FaChevronUp\n            onClick={() => setShowContainer(\"closed\")}\n          /></div>\n          <div className=\"expandbtn\"><FaLightbulb\n            onClick={() => setShowContainer(\"lights\")}\n          /></div>\n          <div className=\"expandbtn\"><MdInvertColors\n            onClick={() => setShowContainer(\"colorTempPicker\")}\n          /></div>\n        </div>)}\n\n\n\n    </div>\n  );\n};\n\nexport default Group;\n\n\n\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Group from \"../containers/Group\";\n\n\nexport default function Groups({ HOST_IP, API_KEY }) {\n  const [config, setConfig] = useState({\n    config: {},\n    lights: {},\n    groups: {},\n    scenes: {},\n  });\n\n  useEffect(() => {\n    const fetchConfig = () => {\n      if (API_KEY !== undefined) {\n        axios\n          .get(`${HOST_IP}/api/${API_KEY}`)\n          .then((fetchedData) => {\n            console.log(fetchedData.data);\n            setConfig(fetchedData.data);\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n      }\n    };\n\n    fetchConfig();\n    const interval = setInterval(() => {\n      fetchConfig();\n    }, 2000); // <<-- â± 1000ms = 1s\n    return () => clearInterval(interval);\n  }, [HOST_IP, API_KEY]);\n\n  return (\n    <div className=\"inner\">\n      <div className=\"cardGrid\">\n        {Object.entries(config.groups)\n          .filter((group) => group[1].type !== \"Entertainment\")\n          .map(([id, group]) => (\n            <Group\n              key={id}\n              api_key={API_KEY}\n              HOST_IP={HOST_IP}\n              id={id}\n              group={group}\n              lights={config.lights}\n              scenes={config.scenes}\n            />\n          ))}\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}