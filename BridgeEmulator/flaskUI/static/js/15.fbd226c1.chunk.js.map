{"version":3,"sources":["color.js","static/images/nightsky.jpg","static/images/sunset.jpg","static/images/galaxy.jpg","containers/Scenes.js","containers/GroupLight.js","containers/ColorPicker.js","containers/ColorTempPicker.js","containers/Group.js","views/Groups.js"],"names":["cieToRgb","x","y","brightness","undefined","z","Y","toFixed","X","Z","red","green","blue","Math","pow","round","isNaN","floor","colorTemperatureToRgb","mireds","hectemp","log","rgbToCie","parseFloat","Scenes","HOST_IP","api_key","groupId","scenes","sceneModal","setSceneModal","closeModal","isOpen","onAfterOpen","onRequestClose","contentLabel","className","onClick","Object","entries","filter","scene","group","map","id","style","background","nightsky","backgroundSize","axios","put","applyScene","lightstates","lightstate","light","state","applyLightState","name","Light","switchLight","newState","console","JSON","stringify","motion","div","layout","initial","opacity","animate","getStyle","title","type","defaultChecked","onChange","e","on","currentTarget","checked","min","max","defaultValue","bri","parseInt","value","KelvinPicker","lights","groupLights","pickerRef","useRef","picker","useState","setAnimation","useEffect","colors","push","rgb","xy","current","iro","ColorPicker","component","ui","Wheel","options","exit","ref","kelvin","mirek","Slider","sliderType","color","Group","showContainer","setShowContainer","lightBg","step","length","index","slice","counter","onlineLights","handleToggleChange","target","action","handleBriChange","AnimateSharedLayout","AnimatePresence","Groups","API_KEY","config","groups","setConfig","fetchConfig","get","then","fetchedData","data","catch","error","interval","setInterval","clearInterval"],"mappings":"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","file":"static/js/15.fbd226c1.chunk.js","sourcesContent":["export function cieToRgb(x, y, brightness) {\n  //Set to maximum brightness if no custom value was given (Not the slick ECMAScript 6 way for compatibility reasons)\n  if (brightness === undefined) {\n    brightness = 254;\n  }\n\n  var z = 1.0 - x - y;\n  var Y = (brightness / 254).toFixed(2);\n  var X = Y / y * x;\n  var Z = Y / y * z;\n\n  //Convert to RGB using Wide RGB D65 conversion\n  var red = X * 1.656492 - Y * 0.354851 - Z * 0.255038;\n  var green = -X * 0.707196 + Y * 1.655397 + Z * 0.036152;\n  var blue = X * 0.051713 - Y * 0.121364 + Z * 1.01153;\n\n  //If red, green or blue is larger than 1.0 set it back to the maximum of 1.0\n  if (red > blue && red > green && red > 1.0) {\n    green = green / red;\n    blue = blue / red;\n    red = 1.0;\n  } else if (green > blue && green > red && green > 1.0) {\n    red = red / green;\n    blue = blue / green;\n    green = 1.0;\n  } else if (blue > red && blue > green && blue > 1.0) {\n    red = red / blue;\n    green = green / blue;\n    blue = 1.0;\n  }\n\n  //Reverse gamma correction\n  red =\n    red <= 0.0031308\n      ? 12.92 * red\n      : (1.0 + 0.055) * Math.pow(red, 1.0 / 2.4) - 0.055;\n  green =\n    green <= 0.0031308\n      ? 12.92 * green\n      : (1.0 + 0.055) * Math.pow(green, 1.0 / 2.4) - 0.055;\n  blue =\n    blue <= 0.0031308\n      ? 12.92 * blue\n      : (1.0 + 0.055) * Math.pow(blue, 1.0 / 2.4) - 0.055;\n\n  //Convert normalized decimal to decimal\n  red = Math.round(red * 255);\n  green = Math.round(green * 255);\n  blue = Math.round(blue * 255);\n\n  if (isNaN(red)) red = 0;\n\n  if (isNaN(green)) green = 0;\n\n  if (isNaN(blue)) blue = 0;\n\n  return \"rgba(\" + Math.floor(red) + \",\" +  Math.floor(green) + \",\" + Math.floor(blue) + \",1)\";\n}\n\nexport function colorTemperatureToRgb(mireds) {\n  var hectemp = 20000.0 / mireds;\n\n  var red, green, blue;\n\n  if (hectemp <= 66) {\n    red = 255;\n    green = 99.4708025861 * Math.log(hectemp) - 161.1195681661;\n    blue =\n      hectemp <= 19\n        ? 0\n        : 138.5177312231 * Math.log(hectemp - 10) - 305.0447927307;\n  } else {\n    red = 329.698727446 * Math.pow(hectemp - 60, -0.1332047592);\n    green = 288.1221695283 * Math.pow(hectemp - 60, -0.0755148492);\n    blue = 255;\n  }\n\n  red = red > 255 ? 255 : red;\n  green = green > 255 ? 255 : green;\n  blue = blue > 255 ? 255 : blue;\n\n  return \"rgba(\" + Math.floor(red) + \",\" +  Math.floor(green) + \",\" + Math.floor(blue) + \",1)\";\n}\n\nexport function rgbToCie(red, green, blue) {\n  //Apply a gamma correction to the RGB values, which makes the color more vivid and more the like the color displayed on the screen of your device\n  red =\n    red > 0.04045 ? Math.pow((red + 0.055) / (1.0 + 0.055), 2.4) : red / 12.92;\n  green =\n    green > 0.04045\n      ? Math.pow((green + 0.055) / (1.0 + 0.055), 2.4)\n      : green / 12.92;\n  blue =\n    blue > 0.04045\n      ? Math.pow((blue + 0.055) / (1.0 + 0.055), 2.4)\n      : blue / 12.92;\n\n  //RGB values to XYZ using the Wide RGB D65 conversion formula\n  var X = red * 0.664511 + green * 0.154324 + blue * 0.162028;\n  var Y = red * 0.283881 + green * 0.668433 + blue * 0.047685;\n  var Z = red * 0.000088 + green * 0.07231 + blue * 0.986039;\n\n  //Calculate the xy values from the XYZ values\n  var x = (X / (X + Y + Z)).toFixed(4);\n  var y = (Y / (X + Y + Z)).toFixed(4);\n\n  if (isNaN(x)) x = 0;\n\n  if (isNaN(y)) y = 0;\n\n  return [parseFloat(x), parseFloat(y)];\n}\n","export default __webpack_public_path__ + \"static/media/nightsky.a7e58287.jpg\";","export default __webpack_public_path__ + \"static/media/sunset.f62d6721.jpg\";","export default __webpack_public_path__ + \"static/media/galaxy.6305f309.jpg\";","import Modal from 'react-modal';\nimport axios from \"axios\";\nimport { FaTimes } from \"react-icons/fa\";\nimport { cieToRgb, colorTemperatureToRgb } from \"../color\";\n\nimport nightsky from \"../static/images/nightsky.jpg\";\nimport sunset from \"../static/images/sunset.jpg\";\nimport galaxy from \"../static/images/galaxy.jpg\";\n\n\nconst Scenes = ({ HOST_IP, api_key, groupId, scenes, sceneModal, setSceneModal }) => {\n  const applyScene = (scene) => {\n    axios.put(`${HOST_IP}/api/${api_key}/groups/0/action`, { scene: scene });\n  };\n\n  const applyLightState = (light, state) => {\n    axios.put(`${HOST_IP}/api/${api_key}/lights/${light}/state`, state);\n  };\n\n  function openModal() {\n    setSceneModal(true);\n  }\n\n  function afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    // subtitle.style.color = '#f00';\n  }\n\n  function closeModal() {\n    setSceneModal(false);\n  }\n\n  const getStyle = (lightstate) => {\n    let color;\n    if (\"xy\" in lightstate) {\n      color = cieToRgb(lightstate[\"xy\"][0], lightstate[\"xy\"][1], 254);\n    } else if (\"ct\" in lightstate) {\n      color = colorTemperatureToRgb(lightstate[\"ct\"]);\n    } else {\n      color = \"rgba(200,200,200,1)\";\n    }\n    return color;\n  }\n\n  return (\n    <Modal\n      isOpen={sceneModal}\n      onAfterOpen={afterOpenModal}\n      onRequestClose={closeModal}\n      contentLabel=\"Example Modal\"\n    >\n      <div className=\"header\">\n        <div className=\"headline\">Scene Picker</div>\n        <div className=\"iconbox\"><button onClick={closeModal}><FaTimes /></button></div>\n      </div>\n      <div className=\"scenecontainer\"\n      >\n        {Object.entries(scenes)\n          .filter((scene) => scene[1].group === groupId)\n          .map(([id, scene]) => (\n            <div className=\"scene\" style={{ background: `url(${nightsky})`, backgroundSize: 'cover', }} onClick={() => applyScene(id)}>\n              <div className=\"dimmer\">\n              {Object.entries(scene.lightstates)\n                .map(([light, state]) => (\n                  <div className=\"color\"\n                    style={{ background: `${getStyle(state)}` }}\n                    onClick={() => applyLightState(light, state)}\n                  >\n                  </div>\n                ))}\n              <div className=\"name\">{scene.name}</div>\n              </div>\n              <div className=\"dynamiccontrol\"><i className=\"far fa-play-circle\"></i></div>\n            </div>\n          ))}\n      </div>\n    </Modal>\n  );\n};\n\nexport default Scenes;\n","import { RiAlertLine } from \"react-icons/ri\";\nimport axios from \"axios\";\nimport { cieToRgb, colorTemperatureToRgb } from \"../color\";\nimport { FaLightbulb } from \"react-icons/fa\";\nimport { motion } from \"framer-motion\"\n\nconst Light = ({ HOST_IP, api_key, id, light }) => {\n  const switchLight = (newState) => {\n    console.log(\"Apply state \" + JSON.stringify(newState));\n    axios.put(`${HOST_IP}/api/${api_key}/lights/${id}/state`, newState);\n  };\n\n  const getStyle = () => {\n    if (light[\"state\"][\"on\"]) {\n      let lightBg;\n      if (light[\"state\"][\"colormode\"] === \"xy\") {\n        lightBg = cieToRgb(\n          light[\"state\"][\"xy\"][0],\n          light[\"state\"][\"xy\"][1],\n          254\n        );\n      } else if (light[\"state\"][\"colormode\"] === \"ct\") {\n        lightBg = colorTemperatureToRgb(light[\"state\"][\"ct\"]);\n      } else {\n        lightBg = \"linear-gradient(90deg, rgba(255,212,93,1))\";\n      }\n      return { background: lightBg };\n    }\n  };\n\n  return (\n    <motion.div className=\"groupCard light\"\n      layout\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}>\n      <div className=\"row top\">\n        <div className=\"gradient\" style={getStyle()}><FaLightbulb /></div>\n        <div className=\"text\"><p className=\"name\">{light.name}{\" \"}\n          {light[\"state\"][\"reachable\"] || <RiAlertLine title=\"Unrechable\" />}</p></div>\n        <div className=\"switchContainer\"><label className=\"switch\">\n          <input\n            type=\"checkbox\"\n            defaultChecked={light[\"state\"][\"on\"]}\n            onChange={(e) => switchLight({ on: e.currentTarget.checked })}\n          />\n          <span className=\"slider\">\n          </span></label></div>\n      </div>\n      <div className=\"row\"><div className=\"sliderContainer\">\n        <input\n          type=\"range\"\n          min=\"1\"\n          max=\"254\"\n          defaultValue=\"50\"\n          className=\"slider\"\n          onChange={(e) =>\n            switchLight({ bri: parseInt(e.currentTarget.value) })\n          }\n        />\n      </div></div>\n    </motion.div>\n\n  );\n};\n\n\n\n\n\nexport default Light;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { cieToRgb, rgbToCie } from \"../color\";\nimport iro from \"@jaames/iro\";\nimport axios from \"axios\";\nimport { motion } from \"framer-motion\"\n\nexport default function KelvinPicker({\n  HOST_IP,\n  api_key,\n  lights,\n  groupLights,\n}) {\n  const pickerRef = useRef(null);\n  const picker = useRef(null);\n\n  const [animation, setAnimation] = useState(true);\n\n  useEffect(() => {\n    // Component loads the first time...\n    // animation is true => hide class will be returned, so it is opacity 0 (css file at the end)\n    // It will be set to false so class *line 54* will be switched\n    setAnimation(false);\n\n    //This return function will be fired when the component gets unmounted, so to be sure the color wheel gets faded out\n    return () => {\n      setAnimation(false);\n    };\n  }, []);\n\n  let colors = [];\n  for (const [index, light] of groupLights.entries()) {\n    console.log(light);\n    if (\"xy\" in lights[light][\"state\"]) {\n      colors.push(\n        cieToRgb(\n          lights[light][\"state\"][\"xy\"][0],\n          lights[light][\"state\"][\"xy\"][1],\n          254\n        )\n      );\n    }\n  }\n  const onChange = (newState) => {\n    let rgb = newState.rgb;\n\n    console.log(newState.rgb);\n    console.log(\"Apply state \" + JSON.stringify(newState));\n    axios.put(\n      `${HOST_IP}/api/${api_key}/lights/${groupLights[newState[\"index\"]]\n      }/state`,\n      { xy: rgbToCie(rgb[\"r\"], rgb[\"g\"], rgb[\"b\"]) }\n    );\n  };\n\n  useEffect(() => {\n    if (pickerRef.current && !picker.current) {\n      picker.current = new iro.ColorPicker(pickerRef.current, {\n        layout: [\n          {\n            component: iro.ui.Wheel,\n            options: {},\n          },\n        ],\n        colors: colors,\n      });\n      //console.log(picker.current.state.color.rgb)\n      picker.current.on(\"input:end\", onChange);\n    }\n  }, [onChange]);\n  return <motion.div\n    layout\n    initial={{ opacity: 0 }}\n    animate={{ opacity: 1 }}\n    exit={{ opacity: 0 }}\n    ref={pickerRef}>\n  </motion.div>;\n}\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { colorTemperatureToRgb, rgbToCie } from \"../color\";\nimport iro from \"@jaames/iro\";\nimport axios from \"axios\";\nimport { motion } from \"framer-motion\"\n\nexport default function KelvinPicker({\n  HOST_IP,\n  api_key,\n  group,\n  groupId\n}) {\n  const pickerRef = useRef(null);\n  const picker = useRef(null);\n\n  const [animation, setAnimation] = useState(true);\n\n  useEffect(() => {\n    // Component loads the first time...\n    // animation is true => hide class will be returned, so it is opacity 0 (css file at the end)\n    // It will be set to false so class *line 54* will be switched\n    setAnimation(false);\n\n    //This return function will be fired when the component gets unmounted, so to be sure the color wheel gets faded out\n    return () => {\n      setAnimation(false);\n    };\n  }, []);\n\n  const onChange = (newState) => {\n    let kelvin = newState.kelvin;\n    let mirek = Math.floor((11000 - kelvin) / 25.5 + 153);\n    console.log(\"#########\");\n    console.log(mirek);\n    console.log(colorTemperatureToRgb(group[\"action\"][\"ct\"]));\n    console.log(\"Apply state \" + JSON.stringify(newState));\n    axios.put(\n      `${HOST_IP}/api/${api_key}/groups/${groupId}/action`,\n      { 'ct': mirek }\n    );\n  };\n\n  useEffect(() => {\n    if (pickerRef.current && !picker.current) {\n      picker.current = new iro.ColorPicker(pickerRef.current, {\n        layout: [\n          {\n            component: iro.ui.Slider,\n            options: {\n              sliderType: 'kelvin'\n            }\n          },\n        ],\n        color: colorTemperatureToRgb(group[\"action\"][\"ct\"])\n      });\n      picker.current.on(\"input:end\", onChange);\n    }\n  }, [onChange]);\n  return <motion.div\n    layout\n    initial={{ opacity: 0 }}\n    animate={{ opacity: 1 }}\n    exit={{ opacity: 0 }}\n    ref={pickerRef}>\n  </motion.div>;\n}\n","import {\n  FaCouch,\n  FaChevronDown,\n  FaChevronUp,\n  FaImages,\n  FaLightbulb,\n  FaPalette\n\n} from \"react-icons/fa\";\nimport { BsFillHouseDoorFill } from \"react-icons/bs\";\nimport { MdInvertColors } from \"react-icons/md\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport Scenes from \"./Scenes\";\nimport Light from \"./GroupLight\";\nimport ColorPicker from \"./ColorPicker\";\nimport ColorTempPicker from \"./ColorTempPicker\";\nimport debounce from 'lodash.debounce';\nimport { motion, AnimateSharedLayout, AnimatePresence } from \"framer-motion\"\nimport { cieToRgb, colorTemperatureToRgb } from \"../color\";\n\n\nconst Group = ({ HOST_IP, api_key, id, group, lights, scenes }) => {\n  const [showContainer, setShowContainer] = useState(\"closed\");\n  const [sceneModal, setSceneModal] = useState(false);\n\n  const handleToggleChange = (state) => {\n    const newState = { on: state };\n    group.state[\"any_on\"] = state;\n    console.log(\"Apply state \" + JSON.stringify(newState));\n    axios.put(`${HOST_IP}/api/${api_key}/groups/${id}/action`, newState);\n  };\n\n  const handleBriChange = (state) => {\n    const newState = { bri: state };\n    group.action[\"bri\"] = state;\n    console.log(\"Apply state \" + JSON.stringify(newState));\n    axios.put(`${HOST_IP}/api/${api_key}/groups/${id}/action`, newState);\n  };\n\n  const onlineLights = () => {\n    let counter = 0;\n    for (const [index, light] of group.lights.entries()) {\n      if (lights[light][\"state\"][\"reachable\"] === true)\n        counter = counter + 1;\n    }\n    return counter;\n  }\n\n  const getStyle = () => {\n    if (group.state[\"any_on\"]) {\n      let lightBg = \"linear-gradient(45deg, \";\n      let step = 100 / group[\"lights\"].length;\n      for (const [index, light] of group.lights.entries()) {\n        if (lights[light][\"state\"][\"colormode\"] === \"xy\") {\n          if (group[\"lights\"].length === 1) {\n            lightBg = lightBg + \"rgba(200,200,200,1) 0%,\";\n          }\n          lightBg =\n            lightBg +\n            cieToRgb(\n              lights[light][\"state\"][\"xy\"][0],\n              lights[light][\"state\"][\"xy\"][1],\n              254\n            ) +\n            \" \" +\n            Math.floor(step * (index + 1)) +\n            \"%,\";\n        } else if (lights[light][\"state\"][\"colormode\"] === \"ct\") {\n          if (group[\"lights\"].length === 1) {\n            lightBg = lightBg + \"rgba(200,200,200,1) 0%,\";\n          }\n          lightBg =\n            lightBg +\n            colorTemperatureToRgb(lights[light][\"state\"][\"ct\"]) +\n            \" \" +\n            Math.floor(step * (index + 1)) +\n            \"%,\";\n        } else {\n          if (group[\"lights\"].length === 1) {\n            lightBg = lightBg + \"rgba(200,200,200,1) 0%,\";\n          }\n          lightBg =\n            lightBg +\n            \"rgba(255,212,93,1) \" +\n            Math.floor(step * (index + 1)) +\n            \"%,\";\n        }\n      }\n      return { background: lightBg.slice(0, -1) + \")\" };\n    }\n  };\n\n  return (\n    <div className=\"groupCard\">\n      <Scenes\n        HOST_IP={HOST_IP}\n        api_key={api_key}\n        groupId={id}\n        scenes={scenes}\n        sceneModal={sceneModal}\n        setSceneModal={setSceneModal}\n      />\n      <div className=\"row top\">\n        <div className=\"gradient\" style={getStyle()} >{group[\"type\"] === \"Zone\" ? <FaCouch style={{ color: \"#8400FF\" }} /> : <BsFillHouseDoorFill style={{ color: \"#8400FF\" }} />}</div>\n        <div className=\"text\">\n          <p className=\"name\">{group.name}</p>\n          <p className=\"subtext\">{onlineLights()} lamps online</p></div>\n        <div className=\"switchContainer\">\n          <label className=\"switch\">\n            <input\n              type=\"checkbox\"\n              value={group.state[\"any_on\"]}\n              checked={group.state[\"any_on\"]}\n              onChange={(e) => handleToggleChange(e.target.checked)}\n            />\n            <span className=\"slider\"></span>\n          </label>\n        </div>\n      </div>\n      <div className=\"row background\">\n        <div className=\"sliderContainer\">\n          <input\n            type=\"range\"\n            min=\"1\"\n            max=\"254\"\n            value={group.action[\"bri\"]}\n            step=\"1\"\n            className=\"slider\"\n            onChange={(e) => handleBriChange(parseInt(e.target.value))}\n          />\n        </div>\n      </div>\n      <AnimateSharedLayout>\n        <motion.div className=\"row colorpicker\">\n          <AnimatePresence>\n            {showContainer === \"colorPicker\" && (\n              <ColorPicker\n                HOST_IP={HOST_IP}\n                api_key={api_key}\n                lights={lights}\n                groupLights={group.lights}\n              />\n            )}\n            {showContainer === \"colorTempPicker\" && (\n              <ColorTempPicker\n                HOST_IP={HOST_IP}\n                api_key={api_key}\n                groupId={id}\n                group={group}\n              />\n            )}\n            {showContainer === \"lights\" && (\n              <div className=\"lights\">\n                {group.lights.map((light) => (\n                  <Light\n                    HOST_IP={HOST_IP}\n                    api_key={api_key}\n                    key={light}\n                    id={light}\n                    light={lights[light]}\n                  />\n                ))}\n              </div>\n            )}\n          </AnimatePresence>\n        </motion.div>\n      </AnimateSharedLayout>\n      {showContainer === \"closed\" && (\n        <div className=\"row bottom\">\n          <div className=\"expandbtn\"><FaChevronDown\n            onClick={() => setShowContainer(\"colorPicker\")}\n          /></div>\n        </div>) ||\n        (<div className=\"row bottom\">\n          <div className=\"btn\"><FaPalette\n            onClick={() => setShowContainer(\"colorPicker\")} />\n          </div>\n          <div className=\"btn\"><FaImages\n            onClick={() => setSceneModal(true)}\n          /></div>\n          <div className=\"expandbtn\"><FaChevronUp\n            onClick={() => setShowContainer(\"closed\")}\n          /></div>\n          <div className=\"btn\"><FaLightbulb\n            onClick={() => setShowContainer(\"lights\")}\n          /></div>\n          <div className=\"btn\"><MdInvertColors\n            onClick={() => setShowContainer(\"colorTempPicker\")}\n          /></div>\n        </div>)}\n\n\n\n    </div>\n  );\n};\n\nexport default Group;\n\n\n\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Group from \"../containers/Group\";\n\n\nexport default function Groups({ HOST_IP, API_KEY }) {\n  const [config, setConfig] = useState({\n    config: {},\n    lights: {},\n    groups: {},\n    scenes: {},\n  });\n\n  useEffect(() => {\n    const fetchConfig = () => {\n      if (API_KEY !== undefined) {\n        axios\n          .get(`${HOST_IP}/api/${API_KEY}`)\n          .then((fetchedData) => {\n            console.log(fetchedData.data);\n            setConfig(fetchedData.data);\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n      }\n    };\n\n    fetchConfig();\n    const interval = setInterval(() => {\n      fetchConfig();\n    }, 2000); // <<-- â± 1000ms = 1s\n    return () => clearInterval(interval);\n  }, [HOST_IP, API_KEY]);\n\n  return (\n    <div className=\"inner\">\n      <div className=\"cardGrid\">\n        {Object.entries(config.groups)\n          .filter((group) => group[1].type !== \"Entertainment\")\n          .map(([id, group]) => (\n            <Group\n              key={id}\n              api_key={API_KEY}\n              HOST_IP={HOST_IP}\n              id={id}\n              group={group}\n              lights={config.lights}\n              scenes={config.scenes}\n            />\n          ))}\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}