(this.webpackJsonpdiyhue=this.webpackJsonpdiyhue||[]).push([[5],{101:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var o=n(14),a=n(2),r=n(16),s=n.n(r);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(10),l=n(92),u=n(89),d=(n(85),n(86)),p=n.n(d),f=(n(87),n(90)),h=(n(91),n(6)),b=function(e){var t=e.api_key,n=e.id,o=e.light,a=e.modelIds,r=e.setType,d=e.setMessage,b=function(){s.a.delete("http://localhost/api/".concat(t,"/lights/").concat(n)).then((function(e){console.log(e.data),d("Light successfully deleted"),r("none"),r("success")})).catch((function(e){console.error(e),d("Error occured, check browser console"),r("none"),r("error")}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"iconContainer",children:Object(h.jsx)(i.j,{onClick:function(){s.a.put("http://localhost/api/".concat(t,"/lights/").concat(n,"/state"),{alert:"select"}).then((function(e){console.log(e.data),d("Light alerted"),r("none"),r("success")})).catch((function(e){console.error(e),d("Error occured, check browser console"),r("none"),r("error")}))}})}),o.name," ",o.state.reachable&&Object(h.jsx)(i.d,{title:"Reachable"})||Object(h.jsx)(u.a,{title:"Unrechable"}),Object(h.jsx)("br",{}),Object(h.jsx)(p.a,{options:a,value:o.modelid,onChange:function(e){return t=e.value,console.log(c({},n,t)),void s.a.post("http://localhost/light-types",c({},n,t)).then((function(e){console.log(e.data),d("Modelid updated"),r("none"),r("success")})).catch((function(e){console.error(e),d("Error occured, check browser console"),r("none"),r("error")}));var t},placeholder:"Choose light modelid"}),"Protocol: ",o.protocol,Object(h.jsx)("br",{})," IP: ",o.protocol_cfg.ip,Object(h.jsx)("br",{}),Object(h.jsx)(l.a,{title:"Delete",onClick:function(){Object(f.confirmAlert)({title:"Delete light "+o.name,message:"Are you sure to do this?",buttons:[{label:"Yes",onClick:function(){return b()}},{label:"No"}]})}}),"  ",Object(h.jsx)(l.b,{title:"Update"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]})},v=n(83);function m(e){var t=e.API_KEY,n=Object(a.useState)({}),r=Object(o.a)(n,2),c=r[0],i=r[1],l=Object(a.useState)([]),u=Object(o.a)(l,2),d=u[0],p=u[1],f=Object(a.useState)("none"),m=Object(o.a)(f,2),j=m[0],y=m[1],O=Object(a.useState)("no message"),g=Object(o.a)(O,2),w=g[0],k=g[1],N=function(){void 0!==t&&s.a.get("/lights").then((function(e){console.log(e.data),i(e.data)})).catch((function(e){console.error(e)}))};return Object(a.useEffect)((function(){N(),void 0!==t&&s.a.get("/light-types").then((function(e){console.log(e.data),p(e.data.result)})).catch((function(e){console.error(e)}));var e=setInterval((function(){N()}),2e3);return function(){return clearInterval(e)}}),[t]),Object(h.jsxs)("div",{className:"content",children:["none"!==j&&Object(h.jsx)(v.a,{type:j,message:w,duration:"5000",setType:y}),Object(h.jsxs)("div",{className:"cardGrid",children:[Object(h.jsxs)("div",{className:"linkbtn",onClick:function(){void 0!==t&&s.a.post("/api/".concat(t,"/lights"),"").then((function(e){console.log(e.data),k("Searching for new lights..."),y("none"),y("success")})).catch((function(e){console.error(e),k("Error occured, check browser console"),y("none"),y("error")}))},children:["Scan For Lights",Object(h.jsx)("div",{className:"btn btn-block"})]}),Object.entries(c).map((function(e){var n=Object(o.a)(e,2),a=n[0],r=n[1];return Object(h.jsx)(b,{api_key:t,id:a,light:r,modelIds:d,setType:y,setMessage:k},a)}))]})]})}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(2);var o=n(10),a=n(84),r=n.n(a),s=n(6);function c(e){e.type;var t=e.message,n=e.duration,a=e.setType;return Object(s.jsx)(r.a,{duration:n,persistOnHover:!0,children:Object(s.jsx)("div",{className:"notificationContainer",children:Object(s.jsxs)("div",{className:"notification success",children:[Object(s.jsx)("p",{children:t}),Object(s.jsx)("div",{className:"icon",children:Object(s.jsx)(o.o,{onClick:function(){return a("none")}})})]})})})}},85:function(e,t,n){"use strict";function o(e,t,n){void 0===n&&(n=254);var o=1-e-t,a=(n/254).toFixed(2),r=a/t*e,s=a/t*o,c=1.656492*r-.354851*a-.255038*s,i=.707196*-r+1.655397*a+.036152*s,l=.051713*r-.121364*a+1.01153*s;return c>l&&c>i&&c>1?(i/=c,l/=c,c=1):i>l&&i>c&&i>1?(c/=i,l/=i,i=1):l>c&&l>i&&l>1&&(c/=l,i/=l,l=1),c=c<=.0031308?12.92*c:1.055*Math.pow(c,1/2.4)-.055,i=i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055,l=l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055,c=Math.round(255*c),i=Math.round(255*i),l=Math.round(255*l),isNaN(c)&&(c=0),isNaN(i)&&(i=0),isNaN(l)&&(l=0),"rgba("+Math.floor(c)+","+Math.floor(i)+","+Math.floor(l)+",1)"}function a(e){var t,n,o,a=2e4/e;return a<=66?(t=255,n=99.4708025861*Math.log(a)-161.1195681661,o=a<=19?0:138.5177312231*Math.log(a-10)-305.0447927307):(t=329.698727446*Math.pow(a-60,-.1332047592),n=288.1221695283*Math.pow(a-60,-.0755148492),o=255),t=t>255?255:t,n=n>255?255:n,o=o>255?255:o,"rgba("+Math.floor(t)+","+Math.floor(n)+","+Math.floor(o)+",1)"}function r(e,t,n){var o=.664511*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.154324*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.162028*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92),a=.283881*e+.668433*t+.047685*n,r=88e-6*e+.07231*t+.986039*n,s=(o/(o+a+r)).toFixed(4),c=(a/(o+a+r)).toFixed(4);return isNaN(s)&&(s=0),isNaN(c)&&(c=0),[parseFloat(s),parseFloat(c)]}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}))},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=o?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(n,a,r):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2)),r=(o=n(4))&&o.__esModule?o:{default:o};function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f="Select...",h=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=u(t).call(this,e))||"object"!==c(r)&&"function"!==typeof r?d(o):r).state={selected:n.parseValue(e.value,e.options)||{label:"undefined"===typeof e.placeholder?f:e.placeholder,value:""},isOpen:!1},n.dropdownRef=(0,a.createRef)(),n.mounted=!0,n.handleDocumentClick=n.handleDocumentClick.bind(d(n)),n.fireChangeEvent=n.fireChangeEvent.bind(d(n)),n}var n,o,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"componentDidUpdate",value:function(e){if(this.props.value!==e.value)if(this.props.value){var t=this.parseValue(this.props.value,this.props.options);t!==this.state.selected&&this.setState({selected:t})}else this.setState({selected:{label:"undefined"===typeof this.props.placeholder?f:this.props.placeholder,value:""}})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"handleMouseDown",value:function(e){this.props.onFocus&&"function"===typeof this.props.onFocus&&this.props.onFocus(this.state.isOpen),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen}))}},{key:"parseValue",value:function(e,t){var n;if("string"===typeof e)for(var o=0,a=t.length;o<a;o++)if("group"===t[o].type){var r=t[o].items.filter((function(t){return t.value===e}));r.length&&(n=r[0])}else"undefined"!==typeof t[o].value&&t[o].value===e&&(n=t[o]);return n||e}},{key:"setValue",value:function(e,t){var n={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(n),this.setState(n)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(e){var t,n=e.value;"undefined"===typeof n&&(n=e.label||e);var o=e.label||e.value||e,s=n===this.state.selected.value||n===this.state.selected,c=(i(t={},"".concat(this.props.baseClassName,"-option"),!0),i(t,e.className,!!e.className),i(t,"is-selected",s),t),l=(0,r.default)(c);return a.default.createElement("div",{key:n,className:l,onMouseDown:this.setValue.bind(this,n,o),onClick:this.setValue.bind(this,n,o),role:"option","aria-selected":s?"true":"false"},o)}},{key:"buildMenu",value:function(){var e=this,t=this.props,n=t.options,o=t.baseClassName,r=n.map((function(t){if("group"===t.type){var n=a.default.createElement("div",{className:"".concat(o,"-title")},t.name),r=t.items.map((function(t){return e.renderOption(t)}));return a.default.createElement("div",{className:"".concat(o,"-group"),key:t.name,role:"listbox",tabIndex:"-1"},n,r)}return e.renderOption(t)}));return r.length?r:a.default.createElement("div",{className:"".concat(o,"-noresults")},"No options found")}},{key:"handleDocumentClick",value:function(e){this.mounted&&(this.dropdownRef.current.contains(e.target)||this.state.isOpen&&this.setState({isOpen:!1}))}},{key:"isValueSelected",value:function(){return"string"===typeof this.state.selected||""!==this.state.selected.value}},{key:"render",value:function(){var e,t,n,o,s,c=this.props,l=c.baseClassName,u=c.controlClassName,d=c.placeholderClassName,p=c.menuClassName,f=c.arrowClassName,h=c.arrowClosed,b=c.arrowOpen,v=c.className,m=this.props.disabled?"Dropdown-disabled":"",j="string"===typeof this.state.selected?this.state.selected:this.state.selected.label,y=(0,r.default)((i(e={},"".concat(l,"-root"),!0),i(e,v,!!v),i(e,"is-open",this.state.isOpen),e)),O=(0,r.default)((i(t={},"".concat(l,"-control"),!0),i(t,u,!!u),i(t,m,!!m),t)),g=(0,r.default)((i(n={},"".concat(l,"-placeholder"),!0),i(n,d,!!d),i(n,"is-selected",this.isValueSelected()),n)),w=(0,r.default)((i(o={},"".concat(l,"-menu"),!0),i(o,p,!!p),o)),k=(0,r.default)((i(s={},"".concat(l,"-arrow"),!0),i(s,f,!!f),s)),N=a.default.createElement("div",{className:g},j),M=this.state.isOpen?a.default.createElement("div",{className:w,"aria-expanded":"true"},this.buildMenu()):null;return a.default.createElement("div",{ref:this.dropdownRef,className:y},a.default.createElement("div",{className:O,onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this),"aria-haspopup":"listbox"},N,a.default.createElement("div",{className:"".concat(l,"-arrow-wrapper")},b&&h?this.state.isOpen?b:h:a.default.createElement("span",{className:k}))),M)}}])&&l(n.prototype,o),s&&l(n,s),t}(a.Component);h.defaultProps={baseClassName:"Dropdown"};var b=h;t.default=b},87:function(e,t,n){}}]);
//# sourceMappingURL=5.3acfc56d.chunk.js.map