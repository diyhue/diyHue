{"version":3,"sources":["routes.js","containers/TheContent.js","static/images/logo.svg","containers/TheHeader.js","containers/TheSidebar.js","containers/TheLayout.js","App.js","index.js"],"names":["Groups","React","lazy","LinkButton","Mqtt","Deconz","Alarm","Devices","routes","path","exact","name","component","loading","className","TheContent","API_KEY","fallback","map","route","idx","render","props","from","to","memo","TheHeader","showSidebar","setShowSidebar","useState","group0State","setGroup0State","useEffect","fetchGroups","interval","setInterval","clearInterval","undefined","axios","get","then","fetchedData","console","log","data","catch","error","src","logo","alt","type","id","onClick","value","checked","onChange","e","state","newState","JSON","stringify","put","handleToggleChange","target","TheSidebar","href","style","color","TheLayout","App","setAPI_KEY","result","length","Suspense","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.73b52757.chunk.js","sourcesContent":["import React from 'react';\n\nconst Groups = React.lazy(() => import('./views/Groups'));\nconst LinkButton = React.lazy(() => import('./views/LinkButton'));\nconst Mqtt = React.lazy(() => import('./views/Mqtt'));\nconst Deconz = React.lazy(() => import('./views/Deconz'));\nconst Alarm = React.lazy(() => import('./views/Alarm'));\nconst Devices = React.lazy(() => import('./views/Devices'));\nconst Bridge = React.lazy(() => import('./views/Bridge'));\n\nconst routes = [\n  { path: '/', exact: true, name: 'Lights', component: Groups },\n  { path: '/groups', exact: true, name: 'Groups', component: Groups },\n  { path: '/linkbutton', exact: true, name: 'LinkButton', component: LinkButton },\n  { path: '/mqtt', exact: true, name: 'MQTT', component: Mqtt },\n  { path: '/deconz', exact: true, name: 'Deconz', component: Deconz },\n  { path: '/alarm', exact: true, name: 'Alarm', component: Alarm },\n  { path: '/bridge', exact: true, name: 'Bridge', component: Bridge },\n  { path: '/devices', exact: true, name: 'Devices', component: Devices },\n  //{ path: '/lights', name: 'Lights', component: Light }\n];\n\nexport default routes;\n","import React, { Suspense } from 'react'\nimport {\n  Redirect,\n  Route,\n  Switch,\n  HashRouter\n} from 'react-router-dom'\nimport { CFade } from '@coreui/react'\n\n\n// routes config\nimport routes from '../routes'\n\nconst loading = (\n  <div className=\"pt-3 text-center\">\n    <div className=\"sk-spinner sk-spinner-pulse\"></div>\n  </div>\n)\n\nconst TheContent = ({API_KEY}) => {\n  return (\n    <main className=\"container\">\n        <Suspense fallback={loading}>\n          <HashRouter>\n            <Switch>\n              {routes.map((route, idx) => {\n                return route.component && (\n                  <Route\n                    key={idx}\n                    path={route.path}\n                    exact={route.exact}\n                    name={route.name}\n                    render={props => (\n                      <CFade>\n                        <route.component API_KEY={API_KEY} />\n                      </CFade>\n                    )} />\n                )\n              })}\n              <Redirect from=\"/\" to=\"/groups\" />\n            </Switch>\n          </HashRouter>\n        </Suspense>\n    </main>\n  )\n}\n\nexport default React.memo(TheContent)\n","export default __webpack_public_path__ + \"static/media/logo.f4d77638.svg\";","import { useState, useEffect } from \"react\";\nimport { FaBars } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport logo from '../static/images/logo.svg';\n\nconst TheHeader = ({showSidebar, setShowSidebar, API_KEY}) => {\n\n  const [group0State, setGroup0State] = useState(false);\n\n  useEffect(() => {\n    fetchGroups();\n    const interval = setInterval(() => {\n      fetchGroups();\n    }, 5000); // <<-- ⏱ 1000ms = 1s\n    return () => clearInterval(interval);\n  }, [API_KEY]);\n\n  const fetchGroups = () => {\n    if (API_KEY !== undefined ) {\n      axios\n      .get(`/api/${API_KEY}/groups/0`)\n      .then((fetchedData) => {\n        console.log(fetchedData.data);\n        setGroup0State(fetchedData.data[\"state\"][\"any_on\"]);\n      }).catch((error) => {console.error(error)});\n    }\n  }\n\n  const handleToggleChange = (state) => {\n    const newState = {'on': state};\n    setGroup0State(state);\n    console.log('Apply state ' + JSON.stringify(newState));\n    axios.put(`/api/${API_KEY}/groups/0/action`, newState);\n  }\n\n  return (\n    <div className=\"topbar\">\n      <img src={logo} alt=\"diyHue Logo\" />\n      <button type=\"button\" id=\"sidebarCollapse\" className=\"sidebarToggle\" onClick={() => setShowSidebar(!showSidebar)}>\n        <FaBars/>\n        <span></span>\n      </button>\n      <div className=\"switchContainer\">\n        <p>Turn all {group0State? 'off' : 'on'}</p>\n        <label className=\"switch\">\n          <input type=\"checkbox\"\n            value={group0State}\n            checked={group0State}\n            onChange={(e) => handleToggleChange(e.target.checked)}\n          />\n          <span className=\"slider\"></span>\n        </label>\n      </div>\n      <div className=\"groupToggle\"><i onClick=\"toggleLights(this)\" className=\"fas fa-couch\"></i></div>\n    </div>\n  )\n}\n\nexport default TheHeader\n","import React from 'react'\nimport { FaHome, FaLink, FaCube,  FaBraille, FaExclamationTriangle, FaCog, FaSignOutAlt} from \"react-icons/fa\";\n\nconst TheSidebar = ({ showSidebar }) => {\n  return (\n    <div className={`sidebar ${showSidebar ? '' : 'active'}`}>\n      <ul>\n        <li className=\"iconBox\"></li>\n        <a href=\"#home\">\n          <li><FaHome style={{color: '#0092FF'}}/> Home</li>\n        </a>\n        <a href=\"#linkbutton\">\n          <li><FaLink style={{color: '#FF92FF'}}/> Link Button</li>\n        </a>\n        <a href=\"#bridge\">\n          <li><FaCube style={{color: '#FF9E00'}}/> Bridge</li>\n        </a>\n        <a href=\"#devices\">\n          <li><FaBraille style={{color: '#764600'}}/> Devices</li>\n        </a>\n        <a href=\"#deconz\">\n          <li><FaCube style={{color: '#42A138'}}/> Deconz</li>\n        </a>\n        <a href=\"#MQTT\">\n          <li><FaCube style={{color: '#0084FF'}}/> MQTT</li>\n        </a>\n        <a href=\"#alarm\">\n          <li><FaExclamationTriangle style={{color: '#AE2D00'}}/> Alarm</li>\n        </a>\n        <a href=\"#settings\">\n          <li><FaCog style={{color: '#8B00FF'}}/> Settings</li>\n        </a>\n        <a href=\"/logout\">\n          <li><FaSignOutAlt style={{color: '#fff'}}/> Logout</li>\n        </a>\n      </ul>\n    </div>\n  )\n}\n\nexport default React.memo(TheSidebar)\n","import { useState } from \"react\";\n\nimport {\n  TheContent,\n  TheSidebar,\n  TheHeader\n} from './index'\n\nconst TheLayout = ({API_KEY}) => {\n\n  const [showSidebar, setShowSidebar] = useState(true);\n\n  return (\n    <>\n      <TheHeader\n        API_KEY = {API_KEY}\n        showSidebar = {showSidebar}\n        setShowSidebar = {setShowSidebar}\n      />\n      <TheSidebar\n        showSidebar = {showSidebar}\n      />\n      <TheContent\n        API_KEY = {API_KEY}\n      />\n      </>\n  )\n}\n\nexport default TheLayout\n","import React, { useEffect, useState } from 'react'\nimport axios from \"axios\";\nimport TheLayout from './containers/TheLayout'\n\nimport './scss/style.scss';\n//import \"./App.css\";\n\nconst loading = (\n  <div className=\"pt-3 text-center\">\n    <div className=\"sk-spinner sk-spinner-pulse\"></div>\n  </div>\n)\n/* Your tree is:\n\n- App\n    - TheLayout\n        - TheHeader\n        - TheSidebar\n        - The Content\n            - Route depending on routes.js\n                - E.g. Groups\n                - E.g. LinkButton\n\nIf you fetch the API in groups you need me make sure where you need the result\nIf you need it in another component on the same level, you need it at least one level higher and pass it down\nThere are basically two different ways on passing data around;\n\n  1. Fetch it on App.js level and pass it all the way down.\n  2. use a context - load it at e.g. app level and consume it directly there, where you need it - level doesn't matter\n\n\n  useEffect(() => {\n    axios\n      .get(\"/apilocal\")\n      .then((fetchedData) => {\n        setConfig(fetchedData.data);\n      });\n  }, [groupState]); <------ This peformes a fetch the first time the group components gets rendered and every time, the groupState changes.\n  If you have that on the App level, every components gets rerendered, that consumes that value.\n\n*/\n\nconst App = () => {\n\nconst [API_KEY, setAPI_KEY] = useState();\n\nuseEffect(() => {\n  axios.get(\"/get-key\").then((result) => {\n    if (typeof result.data === \"string\" && result.data.length === 32) {\n      console.log(`API_KEY from API: ${result.data}`);\n      setAPI_KEY(result.data);\n    } else {\n      console.log(\"Unable to fetch API_KEY!\")\n    }\n  }).catch((error) => {console.error(error)});\n}, []);\n\n\n  return (\n      <React.Suspense fallback={loading}>\n        <div className=\"flexContainer\">\n          <TheLayout \n            API_KEY={API_KEY}\n          />\n        </div>\n      </React.Suspense>\n  )\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}